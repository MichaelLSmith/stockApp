
//Simple Test Data array
var testData = [ [1, 5], [2,10], [3,15], [4,20], [5,25], [6,30] ];
var stockInfo = stockData.dataset.data;


//Set size of SVG
var outerWidth = 500;
    outerHeight = 250;
    buffer = 10;
    margin = {left: 30, top: 30, right: 30, bottom: 30};
var innerWidth  = outerWidth  - margin.left - margin.right;
var innerHeight = outerHeight - margin.top  - margin.bottom;

//create svg element in DOM
var svg = d3.select("body").append("svg")
    .attr("width", outerWidth)
    .attr("height", outerHeight)

var g = svg.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

var path = g.append("path");

//Axes function definitions
var xAxisG = svg.append("g")
    .attr("transform", "translate(" + margin.left + "," + (outerHeight - margin.bottom ) + ")");

var yAxisG = svg.append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top  + ")");

//Scale creation
// var xScale = d3.scale.linear().range([0, innerWidth]);
var xScale = d3.time.scale().range([0, innerWidth]);
var yScale = d3.scale.linear().range([innerHeight, 0]);

//Line creation
var line = d3.svg.line()
    .x(function (d) {return xScale(d[0]); })
    .y(function (d) {return yScale(d[1]); });

// create yAxis
    var xAxis = d3.svg.axis()
        .scale(xScale)
        .orient("bottom");

// create yAxis
    var yAxis = d3.svg.axis()
        .scale(yScale)
        .orient("left");

//parse Stock Data from API to convert date from string into number

console.log(stockInfo[0][0]);
//need to change date from string of 2015-01-01 into date number that d3 can chart on graph
//it will be in milliseconds. Need to convert it and then replace it in the data array along side
//the stock price. I might need to create a new array of just the two values.
stockInfo.forEach(function (d){
        var parsedDate = Date.parse(d[0]);
        console.log(parsedDate);
    })


console.log(stockInfo[0][0]);

//Create chart function
function render(data){
   xScale.domain( d3.extent(data, function (d) { return d[0]; }));
   yScale.domain( d3.extent(data, function (d) { return d[1]; }));

   //console.log('d[0]'); console.log(d[0]);
   //console.log('d[1]'); console.log(d[1]);

    // path.attr("d", line(data, function (d) { return d}));
    //problem is with scale not axis. Need to parse date so it can be drawn as a line.

    xAxisG.call(xAxis);
    yAxisG.call(yAxis);

}

render(stockData.dataset.data);




var stockData = {"dataset":{"id":126451,"dataset_code":"USARGDPQDSNAQ","database_code":"FRED","name":"Gross Domestic Product in United States","description":"Billions of Chained 2005 US Dollars Seasonally Adjusted, Copyright 2011, OECD. Reprinted with permission.  All OECD data should be cited as follows: OECD (2010), OECD National Accounts Statistics, http://dx.doi.org/10.1787/na-data-en , (accessed on date) ","refreshed_at":"2015-12-10T18:44:23.509Z","newest_available_date":"2013-01-01","oldest_available_date":"1947-01-01","column_names":["DATE","VALUE"],"frequency":"quarterly","type":"Time Series","premium":false,"limit":null,"transform":null,"column_index":null,"start_date":"1947-01-01","end_date":"2013-01-01","data":[["2013-01-01",13725.7],["2012-10-01",13665.4],["2012-07-01",13652.5],["2012-04-01",13548.5],["2012-01-01",13506.4],["2011-10-01",13441.0],["2011-07-01",13306.9],["2011-04-01",13264.7],["2011-01-01",13183.8],["2010-10-01",13181.2],["2010-07-01",13103.5],["2010-04-01",13019.6],["2010-01-01",12947.6],["2009-10-01",12873.1],["2009-07-01",12746.7],["2009-04-01",12701.0],["2009-01-01",12711.0],["2008-10-01",12883.5],["2008-07-01",13186.9],["2008-04-01",13310.5],["2008-01-01",13266.8],["2007-10-01",13326.0],["2007-07-01",13269.8],["2007-04-01",13173.6],["2007-01-01",13056.1],["2006-10-01",13038.4],["2006-07-01",12950.4],["2006-04-01",12948.7],["2006-01-01",12896.4],["2005-10-01",12735.6],["2005-07-01",12670.5],["2005-04-01",12570.7],["2005-01-01",12515.0],["2004-10-01",12387.2],["2004-07-01",12286.7],["2004-04-01",12195.9],["2004-01-01",12117.9],["2003-10-01",12038.6],["2003-07-01",11930.7],["2003-04-01",11737.5],["2003-01-01",11638.9],["2002-10-01",11590.6],["2002-07-01",11586.6],["2002-04-01",11528.1],["2002-01-01",11467.1],["2001-10-01",11370.0],["2001-07-01",11330.4],["2001-04-01",11361.7],["2001-01-01",11287.8],["2000-10-01",11325.0],["2000-07-01",11258.3],["2000-04-01",11248.8],["2000-01-01",11033.6],["1999-10-01",11004.8],["1999-07-01",10810.7],["1999-04-01",10674.9],["1999-01-01",10592.1],["1998-10-01",10507.6],["1998-07-01",10328.8],["1998-04-01",10194.3],["1998-01-01",10103.4],["1997-10-01",10008.9],["1997-07-01",9932.7],["1997-04-01",9809.6],["1997-01-01",9666.2],["1996-10-01",9592.5],["1996-07-01",9488.9],["1996-04-01",9407.1],["1996-01-01",9247.2],["1995-10-01",9184.3],["1995-07-01",9120.7],["1995-04-01",9044.7],["1995-01-01",9025.3],["1994-10-01",9003.2],["1994-07-01",8904.3],["1994-04-01",8847.3],["1994-01-01",8727.9],["1993-10-01",8643.8],["1993-07-01",8531.1],["1993-04-01",8486.4],["1993-01-01",8432.5],["1992-10-01",8417.0],["1992-07-01",8329.4],["1992-04-01",8244.3],["1992-01-01",8157.6],["1991-10-01",8069.0],["1991-07-01",8037.5],["1991-04-01",8003.8],["1991-01-01",7950.2],["1990-10-01",7988.9],["1990-07-01",8059.5],["1990-04-01",8059.6],["1990-01-01",8027.7],["1989-10-01",7944.7],["1989-07-01",7927.4],["1989-04-01",7865.0],["1989-01-01",7806.6],["1988-10-01",7734.0],["1988-07-01",7632.1],["1988-04-01",7592.9],["1988-01-01",7496.6],["1987-10-01",7458.0],["1987-07-01",7332.6],["1987-04-01",7269.5],["1987-01-01",7193.0],["1986-10-01",7153.4],["1986-07-01",7119.0],["1986-04-01",7051.0],["1986-01-01",7022.8],["1985-10-01",6955.9],["1985-07-01",6903.5],["1985-04-01",6797.3],["1985-01-01",6740.3],["1984-10-01",6677.3],["1984-07-01",6623.3],["1984-04-01",6559.6],["1984-01-01",6448.3],["1983-10-01",6325.6],["1983-07-01",6197.5],["1983-04-01",6077.6],["1983-01-01",5944.0],["1982-10-01",5871.0],["1982-07-01",5866.4],["1982-04-01",5889.1],["1982-01-01",5857.3],["1981-10-01",5955.1],["1981-07-01",6030.2],["1981-04-01",5957.8],["1981-01-01",6005.7],["1980-10-01",5883.5],["1980-07-01",5776.6],["1980-04-01",5787.4],["1980-01-01",5908.5],["1979-10-01",5889.5],["1979-07-01",5873.3],["1979-04-01",5831.4],["1979-01-01",5825.9],["1978-10-01",5816.2],["1978-07-01",5740.3],["1978-04-01",5684.6],["1978-01-01",5469.4],["1977-10-01",5450.8],["1977-07-01",5451.9],["1977-04-01",5356.1],["1977-01-01",5251.8],["1976-10-01",5191.5],["1976-07-01",5154.1],["1976-04-01",5128.9],["1976-01-01",5090.7],["1975-10-01",4977.5],["1975-07-01",4913.3],["1975-04-01",4831.9],["1975-01-01",4795.3],["1974-10-01",4854.3],["1974-07-01",4873.5],["1974-04-01",4922.2],["1974-01-01",4909.6],["1973-10-01",4953.1],["1973-07-01",4906.3],["1973-04-01",4932.6],["1973-01-01",4876.2],["1972-10-01",4754.5],["1972-07-01",4677.5],["1972-04-01",4633.1],["1972-01-01",4525.8],["1971-10-01",4446.3],["1971-07-01",4433.9],["1971-04-01",4398.8],["1971-01-01",4374.0],["1970-10-01",4256.6],["1970-07-01",4302.3],["1970-04-01",4264.3],["1970-01-01",4256.6],["1969-10-01",4263.3],["1969-07-01",4283.4],["1969-04-01",4256.5],["1969-01-01",4244.1],["1968-10-01",4178.3],["1968-07-01",4160.3],["1968-04-01",4132.0],["1968-01-01",4063.0],["1967-10-01",3981.0],["1967-07-01",3950.8],["1967-04-01",3919.6],["1967-01-01",3918.7],["1966-10-01",3884.5],["1966-07-01",3853.3],["1966-04-01",3828.1],["1966-01-01",3815.4],["1965-10-01",3724.0],["1965-07-01",3636.3],["1965-04-01",3564.0],["1965-01-01",3516.3],["1964-10-01",3432.0],["1964-07-01",3422.5],["1964-04-01",3376.6],["1964-01-01",3338.2],["1963-10-01",3265.0],["1963-07-01",3240.3],["1963-04-01",3180.4],["1963-01-01",3141.1],["1962-10-01",3100.6],["1962-07-01",3093.0],["1962-04-01",3064.7],["1962-01-01",3031.2],["1961-10-01",2977.8],["1961-07-01",2918.4],["1961-04-01",2872.0],["1961-01-01",2819.3],["1960-10-01",2802.6],["1960-07-01",2839.0],["1960-04-01",2834.4],["1960-01-01",2847.7],["1959-10-01",2785.2],["1959-07-01",2775.5],["1959-04-01",2778.8],["1959-01-01",2710.3],["1958-10-01",2656.6],["1958-07-01",2596.1],["1958-04-01",2536.6],["1958-01-01",2521.2],["1957-10-01",2591.3],["1957-07-01",2618.9],["1957-04-01",2593.9],["1957-01-01",2600.2],["1956-10-01",2584.3],["1956-07-01",2542.7],["1956-04-01",2545.9],["1956-01-01",2526.1],["1955-10-01",2537.6],["1955-07-01",2523.5],["1955-04-01",2490.3],["1955-01-01",2449.7],["1954-10-01",2381.2],["1954-07-01",2334.4],["1954-04-01",2308.4],["1954-01-01",2305.5],["1953-10-01",2316.5],["1953-07-01",2353.8],["1953-04-01",2368.2],["1953-01-01",2350.4],["1952-10-01",2307.2],["1952-07-01",2233.5],["1952-04-01",2218.6],["1952-01-01",2216.2],["1951-10-01",2194.1],["1951-07-01",2190.4],["1951-04-01",2147.6],["1951-01-01",2112.5],["1950-10-01",2086.2],["1950-07-01",2050.1],["1950-04-01",1972.9],["1950-01-01",1914.6],["1949-10-01",1840.3],["1949-07-01",1857.7],["1949-04-01",1837.1],["1949-01-01",1843.8],["1948-10-01",1869.8],["1948-07-01",1866.9],["1948-04-01",1856.9],["1948-01-01",1823.4],["1947-10-01",1794.8],["1947-07-01",1768.0],["1947-04-01",1769.5],["1947-01-01",1772.2]],"collapse":null,"order":"desc","database_id":118}}
// console.log(prices);



